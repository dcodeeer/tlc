---
import UserIcon from '../icons/user.astro';
import Burger from '../icons/burger.astro';
import Cancel from '../icons/cancel.astro';
import ChevronDown from '../icons/chevron_down.astro';
---

<header>
  <div class='container'>
    <img class='logo' src='/logo.png' />
    
    <nav>
      <div class='item active'>
        <span>Discover TLC</span>
        <div class='details'>
          <div class='left'>
            <div class='title'>Discover TLC</div>
            <div class='list'>
              <a href='#'>Why TLC?</a>
              <a href='#'>Staff testimonials</a>
              <a href='#'>Awards</a>
              <a href='#'>Blog</a>
              <a href='#'>FAQ</a>
            </div>
          </div>
          <div class='right'>
            <div class='box'>
              <div class='partner'>
                <img src='/pictures/partners/header.png' />
                <div class='name'>Locum Tenens</div>
              </div>
              <p>If you are an experienced healthcare professional looking for locum tenens career opportunities, join the team of medical at TLC Locum</p>
            </div>
          </div>
        </div>
      </div>
      <div class='item'>
        <span>Careers with TLC</span>
      </div>
      <div class='item'>Team TLC</div>
      <div class='item'>Healthcare Staffing</div>
      <div class='item'>Contact Us</div>
    </nav>

    <UserIcon />
    
    <a class='search' href='#'>Search Jobs</a>
    <a class='signup' href='#'>Sign Up</a>
    
    <div class='mobile-icon'>
      <div class='burger' id='burger'><Burger /></div>
      <div class='close' id='close'><Cancel /></div>
    </div>
    <div class='mobile-menu mobile-active'>
      <div class='list'>
        <div class='item'>
          <div class='title'>
            <a href='#'>Discover TLC</a>
            <ChevronDown />
          </div>

          <div class='list'>
            <a href='#'>Why TLC?</a>
            <a href='#'>Why TLC?</a>
            <a href='#'>Why TLC?</a>
          </div>
        </div>
        <div class='item'>
          <div class='title'>
            <a href='#'>Discover TLC</a>
            <ChevronDown />
          </div>

          <div class='list'>
            <a href='#'>Why TLC?</a>
            <a href='#'>Why TLC?</a>
            <a href='#'>Why TLC?</a>
          </div>
        </div>
        <div class='item'>
          <div class='title'>
            <a href='#'>Discover TLC</a>
            <ChevronDown />
          </div>

          <div class='list'>
            <a href='#'>Why TLC?</a>
            <a href='#'>Why TLC?</a>
            <a href='#'>Why TLC?</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<style lang='scss'>
header {
  width: 100%;
  height: 220px;
  display: flex;
  align-items: center;

  .container {
    height: 86px;
    display: flex;
    align-items: flex-end;
    justify-content: space-between;

    .logo {
      height: 100%;
    }

    nav {
      display: flex;
      gap: 30px;

      .item {
        cursor: pointer;
        transition: 0.35s;

        &:hover .details {
          visibility: visible;
          opacity: 1;
        }

        .details {
          z-index: 999;
          background-color: #fff;
          box-shadow: 0 0 15px rgba(0, 0, 0, 0.25);
          border-radius: 25px;
          margin-top: 25px;
          width: 1070px;
          height: 260px;
          position: fixed;
          display: grid;
          grid-template-columns: 1fr 2fr;
          transition: 0.35s;
          visibility: hidden;
          opacity: 0;

          .left {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            .title {
              width: 200px;
              font-size: 28px;
              color: var(--color-blue);
              margin-bottom: 16px;
            }
            .list {
              width: 200px;
              display: flex;
              flex-direction: column;
              gap: 5px;
            }
          }
          .right {
            display: flex;
            align-items: center;
            justify-content: center;

            .box {
              display: grid;
              grid-template-columns: 120px 1fr;
              gap: 64px;

              img {
                width: 115px;
              }

              p {
                max-width: 364px;
              }
            }

            p {
              max-width: 465px;
              font-family: 'Mulish';
              font-weight: 400;
            }
          }
        }
      }
      .active::after {
        content: '';
        display: block;
        width: 100%;
        height: 3px;
        border-radius: 5px;
        background-color: var(--color-blue);
        margin-top: 7px;
      }
    }
    .search {
      border-radius: 86px;
      border: 1px solid var(--color-green);
      color: var(--color-green);
      padding: 0 22px;
      height: 40px;
      display: flex;
      align-items: center;
      transition: 0.35s;

      &:hover {
        background-color: var(--color-green);
        color: #fff;
      }
    }

    .signup {
      background-color: rgba(77, 159, 255, 0.70);
      border-radius: 86px;
      border: 1px solid var(--color-blue);
      color: #fff;
      padding: 0 22px;
      height: 40px;
      display: flex;
      align-items: center;
      transition: 0.35s;
      
      &:hover {
        background-color: var(--color-blue);
        color: #fff;
      }
    }
    .burger, .close {
      width: 30px;
      display: flex;
      align-items: center;
      justify-content: center;

      svg {
        width: 26px;
        fill: #000;
        color: #000;
      }
    }
    .mobile-icon, .close {
      display: none;
    }
    .mobile-menu {
      background-color: #fff;
      position: fixed;
      top: 89px;
      bottom: 0;
      right: 0;
      left: 0;
      z-index: 9999;
      transition: 0.35s;
      opacity: 0;
      visibility: hidden;
      overflow-x: auto;

      .list {
        padding: 10px 20px 0 20px;
        .item {
          padding: 5px 20px;

          .title {
            display: flex;
            justify-content: space-between;
          }

          &:hover .list {
            max-height: 1000px;
            transition: max-height 2s;
          }
          &:hover:active .list {
            max-height: 0;
          }

          .list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s;
          }
          .list-active {
            max-height: 1000px;
          }
        }
      }
    }
  }

  @media screen and (max-width: 480px) {
    box-sizing: border-box;
    height: 89px;
    padding: 0 16px;
    
    .container {
      align-items: center;

      .logo {
        width: 104px;
        height: 39px;
      }
      nav, .search {
        display: none;
      }
      .mobile-icon {
        display: block;
      }
      .burger {
        display: flex;
      }
      .menu-active {
        visibility: visible;
        opacity: 1;
      }
    }
  }
}
</style>

<script is:inline>
  // menu
  const burger = document.querySelector('#burger');
  const close  = document.querySelector('#close');
  const menu   = document.querySelector('.mobile-menu');
  const body   = document.querySelector('body');

  const openListener = () => {
    burger.setAttribute('style', 'display:none;');
    close.setAttribute('style', 'display:flex;');

    window.scrollTo(0, 0);

    menu.classList.add('menu-active');
    
    body.style.overflow = 'hidden';

    burger.removeEventListener('click', openListener);
    close.addEventListener('click', closeListener);
  };

  const closeListener = () => {
    burger.setAttribute('style', 'display:flex;');
    close.setAttribute('style', 'display:none;');

    menu.classList.remove('menu-active');
    body.style.overflow = 'auto';
    
    close.removeEventListener('click', closeListener);
    burger.addEventListener('click', openListener);
  };

  burger.addEventListener('click', openListener);

  // menu end
</script>