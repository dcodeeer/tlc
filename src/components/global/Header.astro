---
import UserIcon from '../icons/user.astro';
import Burger from '../icons/burger.astro';
import Cancel from '../icons/cancel.astro';
import ChevronDown from '../icons/chevron_down.astro';
import Phone from '../icons/phone.astro';

import InstagramMini from '../icons/instagram-mini.astro';
import FacebookMini from '../icons/facebook-mini.astro';
import LinkedinMini from '../icons/linkedin-mini.astro';
import TiktokMini from '../icons/tiktok-mini.astro';
import TwitterMini from '../icons/twitter-mini.astro';
---

<header>
  <div class='container'>
    <img class='logo' src='/logo.png' />
    
    <nav>
      <div class='item active'>
        <span>Discover TLC</span>
        <div class='details'>
          <div class='left'>
            <div class='title'>Discover TLC</div>
            <div class='list'>
              <a href='#'>Why TLC?</a>
              <a href='#'>Staff testimonials</a>
              <a href='#'>Awards</a>
              <a href='#'>Blog</a>
              <a href='#'>FAQ</a>
            </div>
          </div>
          <div class='right'>
            <div class='box'>
              <div class='partner'>
                <img src='/pictures/partners/header.png' />
                <div class='name'>Locum Tenens</div>
              </div>
              <p>If you are an experienced healthcare professional looking for locum tenens career opportunities, join the team of medical at TLC Locum</p>
            </div>
          </div>
        </div>
      </div>
      <div class='item'>
        <span>Careers with TLC</span>
        <div class='details'>
          <div class='left'>
            <div class='title'>Careers with TLC</div>
            <div class='list'>
              <a href='#'>Search Jobs</a>
              <a href='#'>CNA/LNA Licensing</a>
              <a href='#'>LNP/RN Licensing</a>
              <a href='#'>Staff testimonials</a>
              <a href='#'>Benefits</a>
            </div>
          </div>
          <div class='right'>
            <p>TLC Nursing’s team is dedicated to providing our clients with the right people through our extensive screening process to meet your unique staffing needs. We provide passionate and committed staff while creating a culture of caring and professional development.</p>  
          </div>
        </div>
      </div>
      <div class='item'>
        <span>Team TLC</span>
        <div class='details'>
          <div class='left'>
            <div class='title'>Team TLC</div>
            <div class='list'>
              <a href='#'>LEAP</a>
              <a href='#'>Timesheet</a>
              <a href='#'>TLC Academy</a>
              <a href='#'>Paycheck</a>
              <a href='#'>Referral Program</a>
            </div>
          </div>
          <div class='right'>
            <p>TLC Nursing’s team is dedicated to providing our clients with the right people through our extensive screening process to meet your unique staffing needs. We provide passionate and committed staff while creating a culture of caring and professional development.</p>  
          </div>
        </div>
      </div>
      <div class='item'>
        <span>Healthcare Staffing</span>
        <div class='details'>
          <div class='left'>
            <div class='title'>Healthcare staffing</div>
            <div class='list'>
              <a href='#'>Joint Commission</a>
              <a href='#'>Staffing Request</a>
            </div>
          </div>
          <div class='right'>
            <p>TLC Nursing Associates, Inc. provides non-exclusive contracts giving you the flexibility to hire who you need when you need them. Our pool of over 300 qualified healthcare professionals come with a wide range of experiences in many different settings which allows us to meet the demand for quality care in our region.</p>  
          </div>
        </div>
      </div>
      <a href='/contact' class='item'>Contact Us</a>
    </nav>

    <a class='user' href='#'>
      <img src='/pictures/header/user.png' />
    </a>
    
    <a class='search' href='#'>Search Jobs</a>
    <a class='signup' href='#'>Sign Up</a>
    
    <div class='mobile-icon'>
      <div class='burger' id='burger'><Burger /></div>
      <div class='close' id='close'><Cancel /></div>
    </div>
    <div class='mobile-menu mobile-active'>

      <div class='list'>

        <div class='item'>
          <div class='title'>
            <a href='#'>Discover TLC</a>
            <button class='header-mobile-chevron'><ChevronDown /></button>
          </div>

          <div class='list'>
            <a href='#'>Why TLC?</a>
            <a href='#'>Staff testimonials</a>
            <a href='#'>Awards</a>
            <a href='#'>Blog</a>
            <a href='#'>FAQ</a>
          </div>
        </div>

        <div class='item'>
          <div class='title'>
            <a href='#'>Careers with TLC</a>
            <button class='header-mobile-chevron'><ChevronDown /></button>
          </div>

          <div class='list'>
            <a href='#'>Search Jobs</a>
            <a href='#'>CNA/LNA Licensing</a>
            <a href='#'>LNP/RN Licensing</a>
            <a href='#'>Staff testimonials</a>
            <a href='#'>Benefits</a>
          </div>
        </div>

        <div class='item'>
          <div class='title'>
            <a href='#'>Healthcare staffing</a>
            <button class='header-mobile-chevron'><ChevronDown /></button>
          </div>

          <div class='list'>
            <a href='#'>Joint Commission</a>
            <a href='#'>Staffing Request</a>
          </div>
        </div>

        <div class='item'>
          <div class='title'>
            <a href='#'>Team TLC</a>
            <button class='header-mobile-chevron'><ChevronDown /></button>
          </div>

          <div class='list'>
            <a href='#'>LEAP</a>
            <a href='#'>Timesheet</a>
            <a href='#'>TLC Academy</a>
            <a href='#'>Paycheck</a>
            <a href='#'>Referral Program</a>
          </div>
        </div>

        <div class='item'>
          <div class='title'>
            <a href='/contact'>Contact</a>
          </div>
        </div>

      </div>

      <div class='partner'>
        <img src='/pictures/partners/header.png' />
        <div class='name'>Locum Tenens</div>
      </div>
      
      <a class='search' href='#'>Search Jobs</a>

      <div class='number-and-social'>
        <div class='number'>
          <Phone />
          <span>802-404-0123</span>
        </div>
        <div class='socials'>
          <span>Follow Us</span>
          <a href='#'><InstagramMini /></a>
          <a href='#'><FacebookMini /></a>
          <a href='#'><LinkedinMini /></a>
          <a href='#'><TiktokMini /></a>
          <a href='#'><TwitterMini /></a>
        </div>
      </div>

      <div class='mail'>
        <span class='title'>EMAIL</span>
        <span class='email'>Info@TLCNursing.Com</span>
      </div>

    </div>
  </div>
</header>

<style lang='scss'>
header {
  width: 100%;
  height: 220px;
  display: flex;
  align-items: center;
  position: relative;
  z-index: 9999;

  .container {
    height: 86px;

    display: grid;
    grid-template-columns: minmax(120px, 220px) 1fr auto auto auto;
    align-items: end;
    gap: 20px;
    
    transform: none;

    .logo {
      max-width: 220px;
      width: 100%;
      height: auto;
    }

    .user {
      height: 41px;
    }

    nav {
      display: flex;
      gap: 30px;

      .item {
        transition: 0.35s;

        &:hover .details {
          visibility: visible;
          opacity: 1;
        }

        span {
          cursor: pointer;
        }

        .details {
          z-index: 999;
          background-color: #fff;
          box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.03), 0px 1.22393px 11.42331px 0px rgba(0,0,0,0.03), 0px 5.30368px 21.21471px 0px rgba(0,0,0,0.02), 0px 11.83128px 29.37422px 0px rgba(0,0,0,0.02), 0px 21.21471px 34.26992px 0px rgba(0,0,0,0.01), 0px 33.65796px 37.53373px 0px rgba(0,0,0,0);
          border-radius: 25px;
          margin-top: 25px;
          width: 1070px;
          height: 260px;
          position: absolute;
          left: 0;
          right: 0;
          margin: 25px auto;
          display: grid;
          grid-template-columns: 404px 1fr;
          transition: 0.35s;
          visibility: hidden;
          opacity: 0;

          .left {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            .title {
              width: 300px;
              font-size: 28px;
              color: var(--color-blue);
              margin-bottom: 16px;
            }
            .list {
              width: 300px;
              display: flex;
              flex-direction: column;
              gap: 5px;

              a {
                transition: 0.35s;
                &:hover {
                  color: var(--color-blue);
                }
              }
            }
          }
          .right {
            display: flex;
            align-items: center;
            justify-content: center;

            .box {
              display: grid;
              grid-template-columns: 140px 1fr;
              gap: 64px;

              .partner {
                .name {
                  color: var(--color-blue);
                }

                img {
                  width: 115px;
                  margin-bottom: 5px;
                }
              }

              img {
                
              }

              p {
                max-width: 364px;
              }
            }

            p {
              max-width: 465px;
              font-family: 'Mulish';
              font-weight: 400;
            }
          }
        }
      }
      .active::after {
        content: '';
        display: block;
        width: 100%;
        height: 3px;
        border-radius: 5px;
        background-color: var(--color-blue);
        margin-top: 7px;
      }
    }
    
    .search {
      border-radius: 86px;
      border: 1px solid var(--color-green);
      color: var(--color-green);
      padding: 0 22px;
      height: 40px;
      display: flex;
      align-items: center;
      transition: 0.35s;

      &:hover {
        background-color: var(--color-green);
        color: #fff;
      }
    }

    .signup {
      background-color: rgba(77, 159, 255, 0.70);
      border-radius: 86px;
      border: 1px solid var(--color-blue);
      color: #fff;
      padding: 0 22px;
      height: 40px;
      display: flex;
      align-items: center;
      transition: 0.35s;
      
      &:hover {
        background-color: var(--color-blue);
        color: #fff;
      }
    }

    .burger, .close {
      width: 30px;
      display: flex;
      align-items: center;
      justify-content: center;

      svg {
        width: 26px;
        fill: #000;
        color: #000;
      }
    }
    .mobile-icon, .close {
      display: none;
    }
    .mobile-menu {
      background-color: #fff;
      position: fixed;
      top: 89px;
      bottom: 0;
      right: 0;
      left: 0;
      z-index: 9999;
      transition: 0.35s;
      opacity: 0;
      visibility: hidden;
      overflow-x: auto;
      padding: 0 30px;
      display: flex;
      flex-direction: column;
      align-items: start;
      padding-bottom: 20px;

      .partner {
        display: grid;
        grid-template-columns: 115px 1fr;
        align-items: flex-end;
        gap: 35px;
        margin-bottom: 35px;

        img {
          width: 115px;
        }

        .name {
          font-size: 20px;
        }
      }

      .number-and-social {
        display: flex;
        justify-content: space-between;
        font-size: 15px;
        margin-bottom: 15px;

        .number {
          display: flex;
          align-items: center;

          span {
            margin-left: 5px;
          }
        }

        .socials {
          display: flex;
          align-items: center;
          gap: 3px;

          a {
            height: 18px;
            &:nth-child(5), &:nth-child(6) {
              height: 16px;
            }
          }
        }
      }

      .mail {
        .title {
          margin-right: 16px;
        }
        .email {
          font-family: 'Mulish';
          font-weight: 400;
        }
      }

      .search {
        display: flex;
        margin-bottom: 30px;
      }

      .list {
        width: 100%;
        margin-bottom: 50px;
        .item {
          padding: 10px;
          border-bottom: 1px solid #EDF3FF;

          .title {
            display: flex;
            align-items: center;
            justify-content: space-between;
          }

          .list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s;
            padding: 0 15px;
            margin-bottom: 0;

            a {
              &:nth-child(1) {
                margin-top: 5px;
              }
            }
          }
          .list-active {
            max-height: 1000px;
          }
        }
      }
    }
  }

  @media screen and (max-width: 1350px) {
    box-sizing: border-box;
    height: 89px;
    
    .container {
      align-items: center;

      display: grid;
      grid-template-columns: 1fr auto auto auto;
      gap: 10px;

      .logo {
        width: 104px;
        height: 39px;
      }
      nav, .search {
        display: none;
      }
      .signup {
        padding: 17px;
      }
      .mobile-icon {
        display: block;
      }
      .burger {
        display: flex;
      }
      .menu-active {
        visibility: visible;
        opacity: 1;
      }
    }
  }
}
</style>

<script is:inline>
  // menu
  const burger = document.querySelector('#burger');
  const close  = document.querySelector('#close');
  const menu   = document.querySelector('.mobile-menu');
  const body   = document.querySelector('body');

  const openListener = () => {
    burger.setAttribute('style', 'display:none;');
    close.setAttribute('style', 'display:flex;');

    window.scrollTo(0, 0);

    menu.classList.add('menu-active');
    
    body.style.overflow = 'hidden';

    burger.removeEventListener('click', openListener);
    close.addEventListener('click', closeListener);
  };

  const closeListener = () => {
    burger.setAttribute('style', 'display:flex;');
    close.setAttribute('style', 'display:none;');

    menu.classList.remove('menu-active');
    body.style.overflow = 'auto';
    
    close.removeEventListener('click', closeListener);
    burger.addEventListener('click', openListener);
  };

  burger.addEventListener('click', openListener);

  // menu end

  // mobile chevron

  const chevroneListener = (e) => {
    console.log(e.target.tagName);
    var list = e.target.parentNode.parentNode.parentNode.querySelector('.list');
    if (e.target.tagName == 'svg') {
      list = e.target.parentNode.parentNode.parentNode.querySelector('.list');
    } else if (e.target.tagName == 'path') {
      list = e.target.parentNode.parentNode.parentNode.parentNode.querySelector('.list');
    } else if (e.target.tagName == 'button') {
      list = e.target.parentNode.parentNode.querySelector('.list');
    }

    if (list.classList.contains('list-active')) {
        list.classList.remove('list-active');
      } else {
        list.classList.add('list-active');
      }
  };

  const chevrones = document.querySelectorAll('.header-mobile-chevron');
  chevrones.forEach(chevrone => {
    chevrone.addEventListener('click', chevroneListener);
  });

</script>